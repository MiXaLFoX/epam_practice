<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Asynchronous JS</title>
</head>
<body>
  <script>

    const alertOnTimeOut = () => {
      let idleTime;
      const reset = () => {
        clearTimeout(idleTime);
        idleTime = setTimeout(() => {
          alert('Hey, wake up!!!');
        }, 10000);
      };
      document.addEventListener('mousemove', reset);
    };
    //alertOnTimeOut();

    const getBool = () => !!(Math.round(Math.random()));
    const mockGetRequest = (data, error) => {
      return new Promise((resolve, reject) => {
        return setTimeout(() => {getBool() ? resolve(data) : reject(error)}, 3000);
      });
    };
    mockGetRequest({data: [1, 20, 3, 45]}, 'Http error!')
      .then((data) => console.log(data.data.filter((item) => item > 10)))
      .catch((error) => console.log(`Error: ${error}`));

    const request1 = mockGetRequest({data: [1, 2, 3]}, 'Http error1!');
    const request2 = mockGetRequest({data: [4, 5, 6]}, 'Http error2!');
    const request3 = mockGetRequest({data: [7, 8, 9]}, 'Http error3!');
    Promise.all([request1, request2, request3]).then(values => {
      console.log(values);
    }, reason => {
      console.log(reason)
    });
  </script>
</body>
</html>